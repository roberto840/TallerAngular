"use strict";(self.webpackChunkNgProject=self.webpackChunkNgProject||[]).push([[509],{7509:(C,h,a)=>{a.r(h),a.d(h,{SearchModule:()=>_});var r=a(6814),t=a(4946),m=a(9862);let d=(()=>{class i{constructor(e){this.http=e,this.baseUrl="https://api.jikan.moe/v4"}search(e){return e=e.replace(" ","%20"),this.http.get(this.baseUrl+"/anime?sfw=true&page=1&q="+e)}getById(e){return this.http.get(`${this.baseUrl}/anime/${e}`)}static#t=this.\u0275fac=function(s){return new(s||i)(t.LFG(m.eN))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var o=a(6743);const u=["searchInput"];function f(i,l){if(1&i&&(t.TgZ(0,"div",8)(1,"a",9)(2,"div",10),t._UZ(3,"img",11),t.TgZ(4,"div",12)(5,"p",13),t._uU(6),t.qZA()()()()()),2&i){const e=l.$implicit;t.xp6(1),t.MGl("routerLink","detail/",e.mal_id,""),t.xp6(2),t.s9C("alt",e.title),t.Q6J("src",e.images.jpg.image_url,t.LSH),t.xp6(3),t.Oqu(e.title)}}function g(i,l){if(1&i&&(t.TgZ(0,"div",6),t.YNc(1,f,7,4,"div",7),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.info.data)}}let v=(()=>{class i{constructor(e){this.searchService=e}ngOnInit(){const e=localStorage.getItem("lastResults");e&&(this.info=JSON.parse(e))}search(){this.searchInput&&this.searchService.search(this.searchInput.nativeElement.value).subscribe(s=>{this.info=s,localStorage.setItem("lastResults",JSON.stringify(s))})}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(d))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-search"]],viewQuery:function(s,n){if(1&s&&t.Gf(u,5),2&s){let c;t.iGM(c=t.CRH())&&(n.searchInput=c.first)}},decls:7,vars:1,consts:[[1,"d-flex","justify-content-end","p-2"],[1,"d-flex"],["type","text","placeholder","Nombre",1,"form-control","mx-2"],["searchInput",""],[1,"btn","btn-primary",3,"click"],["class","row",4,"ngIf"],[1,"row"],["class","col-6 col-md-4 col-lg-3 py-3",4,"ngFor","ngForOf"],[1,"col-6","col-md-4","col-lg-3","py-3"],[3,"routerLink"],[1,"card",2,"width","15rem"],[1,"img-fluid","card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-text","title"]],template:function(s,n){1&s&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"input",2,3),t.TgZ(4,"button",4),t.NdJ("click",function(){return n.search()}),t._uU(5,"Buscar"),t.qZA()()(),t.YNc(6,g,2,1,"div",5)),2&s&&(t.xp6(6),t.Q6J("ngIf",n.info&&n.info.data))},dependencies:[r.sg,r.O5,o.rH],styles:[".title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})}return i})();var y=a(6593);function Z(i,l){if(1&i&&(t.TgZ(0,"div",1),t._UZ(1,"iframe",8),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.safeUrl,t.uOi)}}function x(i,l){if(1&i&&(t.TgZ(0,"div")(1,"div",1)(2,"h2",2),t._uU(3),t.qZA()(),t._UZ(4,"hr",3),t.TgZ(5,"div",1)(6,"div",4),t._UZ(7,"img",5),t.qZA(),t.TgZ(8,"div",6),t._uU(9),t.qZA()(),t._UZ(10,"hr",3),t.YNc(11,Z,2,1,"div",7),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.Oqu(e.anime.title),t.xp6(4),t.Q6J("src",e.anime.images.jpg.image_url,t.LSH)("alt",e.anime.title),t.xp6(2),t.hij(" ",e.anime.synopsis," "),t.xp6(2),t.Q6J("ngIf",e.safeUrl)}}const S=[{path:"",component:v},{path:"detail/:id",component:(()=>{class i{constructor(e,s,n){this.searchService=e,this.route=s,this.sanitizer=n;const c=s.snapshot.paramMap.get("id");c&&this.searchService.getById(+c).subscribe(p=>{this.anime=p.data,p?.data?.trailer?.embed_url&&(this.safeUrl=this.sanitizer.bypassSecurityTrustResourceUrl(p.data.trailer.embed_url))})}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(d),t.Y36(o.gz),t.Y36(y.H7))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"h2"],[1,"hr"],[1,"col-4"],[1,"img-thumbnail",3,"src","alt"],[1,"col-8"],["class","row",4,"ngIf"],["frameborder","0","width","560","height","315",3,"src"]],template:function(s,n){1&s&&t.YNc(0,x,12,5,"div",0),2&s&&t.Q6J("ngIf",n.anime)},dependencies:[r.O5]})}return i})()}];let _=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[r.ez,o.Bz.forChild(S),o.Bz]})}return i})()}}]);